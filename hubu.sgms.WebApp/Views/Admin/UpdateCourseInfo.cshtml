@{
    Layout = null;
}
@using System.Data;
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>更新课程信息</title>
    <link rel="stylesheet" href="~/Content/admin/style.default.css" type="text/css" />
    <link rel="stylesheet" href="~/Content/admin/pikaday.css" />
    <script src="~/Scripts/Course/pikaday.js"></script>
    <script src="~/Scripts/Course/sweetalert2.min.js"></script>
    <link rel="stylesheet" href="~/Content/admin/sweetalert2.min.css">
</head>

<body class="withvernav">
    <div style="height:50px;background-color:#31425D;text-align:center" align="Center">
        <h1 vertical-align="middle" style="line-height:45px ">修改课程信息</h1>
    </div><!--contenttitle-->

    <form id="formid" class="stdform stdform2" action="/Admin/SubmitUpdateCourseInfo" method="post" onsubmit="return submitInfo()">
        <p>
            <label>课程编号</label>
            <span class="field"><input value="@ViewData["courseId"]" type="text" name="course_id" id="course_id" class="longinput" readonly="readonly" style="width:200px;" />系统自动编排，无法更改</span>
            
        </p>

        <p>
            <label>课程名称</label>
            <span class="field"><input value="@ViewData["courseName"]"  type="text" name="course_name" id="course_name" class="longinput" style="width:200px;" /></span>
        </p>

        <p>
            <label>先行课程</label>
            <span class="field"><input  type="text" name="course_prior" id="course_prior" class="longinput" style="width:200px;" /></span>
        </p>

        <p>
            <label>开课时间</label>
            <span class="field">
                <input placeholder="选择开课时间" id="course_opentime" name="course_opentime"  type="text" style="width:200px;" />
            </span>
        </p>

        <p>
            <label>课程类型</label>
            <span class="field" style="width:900px;">
                <select id="course_type" name="course_type" >
                    <option value="" style="display: none;" disabled selected>课程类型</option>
                    <option value="公共选修课">公共选修课</option>
                    <option value="公共必修课">公共必修课</option>
                    <option value="专业选修课">专业选修课</option>
                    <option value="专业必修课">专业必修课</option>
                </select>
            </span>
        </p>

        <p>
            <label>课程所属学院</label>
            <span class="field" style="width:900px;">
                <select name="selection" id="course_department" value="@ViewData["collegeID"]" placeholder=@ViewData["collegeID"]>
                    <option value="" style="display: none;" disabled selected>课程所属学院</option>
                    <option value="1">文学院</option>
                    <option value="2">新闻传播学院</option>
                    <option value="3">商学院</option>
                    <option value="4">政法与公共管理学院</option>
                    <option value="5">外国语学院</option>
                    <option value="6">历史文化学院</option>
                    <option value="7">教育学院</option>
                    <option value="8">哲学学院</option>
                    <option value="9">马克思主义学院</option>
                    <option value="10">数学与统计学学院</option>
                    <option value="11">物理与电子科学学院</option>
                    <option value="12">化学化工学院</option>
                    <option value="13">生命科学学院</option>
                    <option value="14">资源环境学院</option>
                    <option value="15">计算机与信息工程学院</option>
                    <option value="16">材料科学与工程学院</option>
                    <option value="17">艺术学院</option>
                    <option value="18">体育学院</option>
                    <option value="19">通识教育学院</option>
                    <option value="20">楚才学院</option>
                    <option value="21">国际教育学院</option>
                </select>
            </span>
        </p>


        <p>
            <label>课程所属专业</label>
            <span class="field" style="width:900px;">
                <select name="selection" id="course_class" value="@ViewData["classID"]" placeholder=@ViewData["classID"]>
                    <option value="" style="display: none;" disabled selected>课程所属专业</option>
                    @*
                <option value="1">软件工程</option>
                <option value="2">信息安全</option>
                <option value="3">计科</option>
                <option value="4">物联网</option>*@
                </select>
            </span>
        </p>

        <p>
            <label>课程学分</label>
            <span class="field" style="width:900px;">
                <select name="course_credit" id="course_credit" value="@ViewData["courseCredit"]" placeholder=@ViewData["courseCredit"]>
                    <option value="" style="display: none;" disabled selected>课程学分</option>
                    <option value="0.5">0.5</option>
                    <option value="1.0">1.0</option>
                    <option value="1.5">1.5</option>
                    <option value="2.0">2.0</option>
                    <option value="2.5">2.5</option>
                    <option value="3.0">3.0</option>
                    <option value="3.5">3.5</option>
                    <option value="4.0">4.0</option>
                    <option value="4.5">4.5</option>
                    <option value="5.0">5.0</option>
                    <option value="5.5">5.5</option>
                    <option value="6.0">6.0</option>
                </select>
            </span>
        </p>

        <p>
            <label>课程学时</label>
            <span class="field" style="width:900px;">
                <select name="course_hour" id="course_hour" value="@ViewData["courseHour"]">
                    <option value="" style="display: none;" disabled selected>课程学时</option>
                    <option value="8">8</option>
                    <option value="16">16</option>
                    <option value="24">24</option>
                    <option value="32">32</option>
                    <option value="40">40</option>
                    <option value="48">48</option>
                    <option value="56">56</option>
                </select>
            </span>
        </p>

        <p>
            <label>理论学时</label>
            <span class="field" style="width:900px;">
                <select name="course_theory" id="course_theory">
                    <option value="" style="display: none;" disabled selected>课程理论学时</option>
                    <option value="8">8</option>
                    <option value="16">16</option>
                    <option value="24">24</option>
                    <option value="32">32</option>
                    <option value="40">40</option>
                    <option value="48">48</option>
                    <option value="56">56</option>
                    <option value="0">0</option>
                </select>
            </span>
        </p>

        <p>
            <label>实验学时</label>
            <span class="field" style="width:900px;">
                <select name="course_experiment" id="course_experiment">
                    <option value="" style="display: none;" disabled selected>课程实验学时</option>
                    <option value="8">8</option>
                    <option value="16">16</option>
                    <option value="24">24</option>
                    <option value="32">32</option>
                    <option value="40">40</option>
                    <option value="48">48</option>
                    <option value="56">56</option>
                    <option value="0">0</option>
                </select>
            </span>
        </p>


        <p>
            <label>课程所属状态</label>
            <span class="field" style="width:900px;">
                <select name="course_status" id="course_status">
                    <option value="" style="display: none;" disabled selected>课程所属状态</option>
                    <option value="0">待开课</option>
                    <option value="1">已开课</option>
                    <option value="2">已结课</option>
                </select>
            </span>
        </p>

        <div style="height:50px;background-color:white" align="Center">
            <button class="submit" align="Center" style="width:120px;margin-top: 10px;">修改课程信息</button>
        </div>
    </form>

    <script>
        var picker = new Pikaday(
            {
                field: document.getElementById('course_opentime'),
                firstDay: 1,
                minDate: new Date('2005-01-01'),
                maxDate: new Date('2030-12-31'),
                yearRange: [2005, 2030],
            });


        function submitInfo() {
            var CourseID = document.getElementById("course_id").value;
            var CourseName = document.getElementById("course_name").value;
            var CourseCredit = document.getElementById("course_credit").value;
            var CourseHour = document.getElementById("course_hour").value;
            var CourseType = document.getElementById("course_type").value;
            var CourseDepartment = document.getElementById("course_department").value;          //之前id错误，js运行错误
            var CourseClass = document.getElementById("course_class").value;
            var CourseTheory = document.getElementById("course_theory").value;
            var CourseExperiment = document.getElementById("course_experiment").value;
            var CourseOpentime = document.getElementById("course_opentime").value;
            var CoursePrior = document.getElementById("course_prior").value;
            var CourseStatus = document.getElementById("course_status").value;

            if (CourseName == '' || CourseCredit == '' || CourseHour == '' || CourseType == '' || CourseTheory == '' || CourseExperiment == '' || CourseOpentime == '' || CourseStatus == '') {
                swal('提交错误', '请检查信息是否完整', 'error');
                return false;
            } else {
                document.getElementById("formid").submit();
            }
        }
    </script>
</body>
</html>
